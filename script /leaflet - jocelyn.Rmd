---
title: "Leaflet"
author: "Jocelyn Martinez Rico"
date: "4/12/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

```{r, echo=FALSE}
library(leaflet)
library(tidyverse)
library(dplyr)
```

# Adding markers to maps

First we start with the base function to create a map.
```{r}
leaflet() %>%
  addTiles()
```

Then we can pin point on any given location using lat and long data, here is an example using Abu volcano in Japan. 

Icon markers can be added using the addMarkers or addAwesomeMarkers function.

Both functions work the same but differ in that the addAwesomeMarkers function allows you to use additional custom colors or icons from Font Awesome, Bootstrap Glyphicons, and Ion icons icon libraries.

```{r}
leaflet(data = volcano) %>%
  addTiles() %>%
  addMarkers(lng = 131.600, 
             lat = 34.500)

leaflet(data = volcano) %>%
  addTiles() %>%
  addAwesomeMarkers(lng = 131.600, 
                    lat = 34.500)
```

Interactive pop up labels can also be added to existing markers. Using the popup feature displays designated label when clicked on the marker.
```{r}
leaflet(data = volcano) %>%
  addTiles() %>%
  addMarkers(lng = 131.600, 
             lat = 34.500, 
             popup = "Abu volcano")
```

Using the label option adds a hover feature to your label.

```{r}
leaflet(data = volcano) %>%
  addTiles() %>%
  addMarkers(lng = 131.600, 
             lat = 34.500,
             label = "Abu volcano")
```

# Customizing marker icons

Markers can be customized in any way, using any icon, image, or color.

For this example, we'll use the [leaflet icon](https://leafletjs.com/SlavaUkraini/examples/custom-icons/leaf-green.png).

To do this we'll create a function for our icon to make our code cleaner. Icon elements can be changed using icon and shadow functions. Icon functions are the base elements for customizing your icon and shadow functions add a 3D element to your icon.
```{r}
LeafIcon <- makeIcon(
  iconUrl = "https://leafletjs.com/SlavaUkraini/examples/custom-icons/leaf-green.png",
  iconWidth = 35, iconHeight = 95,
  iconAnchorX = 20, iconAnchorY = 95,
  shadowUrl = "https://leafletjs.com/SlavaUkraini/examples/custom-icons/leaf-shadow.png",
  shadowWidth = 50, shadowHeight = 65,
  shadowAnchorX = 5, shadowAnchorY = 65
  )
```

```{r}
leaflet(data = volcano) %>%
  addTiles() %>%
  addMarkers(lng = 131.600, 
             lat = 34.500,
             icon = LeafIcon)
```

If you have more than one icon or point, the icons function is used to add more than one icon onto your map.



